{
  "permissions": {
    "allow": [
      "Read",
      "Bash(tree:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(git diff:*)",
      "Bash(git log:*)",
      "Bash(git status:*)",
      "Bash(git branch:*)",
      "Bash(git fetch:*)",
      "Bash(git stash:*)",
      "Bash(git show:*)",
      "Bash(git blame:*)",
      "Bash(cd:*)",
      "Bash(ls:*)",
      "Bash(pwd:*)",
      "Bash(wc:*)",
      "Bash(which:*)",
      "Bash(cat:*)",
      "Web Search",
      "Bash(npm install:*)",
      "Bash(npm run lint)",
      "Bash(npm run test:*)",
      "Bash(npm run build:*)",
      "Bash(npm outdated:*)",
      "Bash(npx:*)",
      "Bash(node --version:*)",
      "Bash(npm --version:*)",
      "Bash(python --version:*)",
      "Bash(gh auth status)",
      "Bash(gh repo create)",
      "Bash(gh pr list:*)",
      "Bash(gh pr view:*)",
      "Bash(gh issue list:*)",
      "Bash(gh issue view:*)",
      "Bash(claude init)",
      "Bash(file:*)",
      "Skill(skill-creator:*)",
      "Skill(smart-commit:*)",
      "Skill(blog-writer:*)",
      "Skill(frontend-design\\:frontend-design:*)",
      "Skill(prompt-improver\\:prompt-improver:*)"
    ],
    "deny": ["Read(./.env*)", "Bash(rm -rf :*)", "Bash(npm publish)"],
    "defaultMode": "plan"
  },
  "enabledPlugins": {
    "frontend-design@claude-plugins-official": true,
    "prompt-improver@severity1-marketplace": true,
    "rust-analyzer-lsp@claude-plugins-official": true
  },
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Edit|Write",
        "hooks": [
          {
            "type": "command",
            "command": "jq -r '.tool_input.file_path' | { read file_path; if echo \"$file_path\" | grep -qE '\\.(ts|tsx|js|jsx|json|yaml|yml|md|css|scss)$'; then echo \"[hook] prettier: formatting $file_path\"; npx prettier --write --ignore-unknown \"$file_path\" 2>/dev/null && echo \"[hook] prettier: done\"; fi; }",
            "timeout": 30
          },
          {
            "type": "command",
            "command": "jq -r '.tool_input.file_path' | { read file_path; if echo \"$file_path\" | grep -qE '\\.(ts|tsx|js|jsx)$'; then echo \"[hook] eslint: fixing $file_path\"; npx eslint --fix --no-warn-ignored \"$file_path\" 2>/dev/null || true; echo \"[hook] eslint: done\"; fi; }",
            "timeout": 30
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Edit|Write",
        "hooks": [
          {
            "type": "command",
            "command": "tee /tmp/claude-hook-input | jq -e '.tool_input.file_path | test(\"(\\.env|\\.git/|lock\\.yaml|package-lock\\.json|credentials)\")' >/dev/null 2>&1 && { echo '[hook] protected-files: BLOCKED - cannot edit sensitive files' >&2; exit 2; } || { echo \"[hook] protected-files: allowed $(cat /tmp/claude-hook-input | jq -r '.tool_input.file_path')\"; exit 0; }",
            "timeout": 5
          }
        ]
      },
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "jq -r '.tool_input.command' | grep -qE '^git (commit|add)' && ~/.claude/hooks/scan-secrets.sh || exit 0",
            "timeout": 30
          }
        ]
      }
    ],
    "Notification": [
      {
        "matcher": "idle_prompt",
        "hooks": [
          {
            "type": "command",
            "command": "terminal-notifier -title 'Claude Code' -message 'Claude is waiting for your input' -sound Glass",
            "timeout": 5
          }
        ]
      },
      {
        "matcher": "permission_prompt",
        "hooks": [
          {
            "type": "command",
            "command": "terminal-notifier -title 'Claude Code' -message 'Permission required' -sound Glass",
            "timeout": 5
          }
        ]
      }
    ]
  }
}
